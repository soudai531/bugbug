<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <title>bugbug</title>
    <link rel="icon" th:href="@{/img/logoicon.png}" />
    <link rel="preload" th:href="@{/img/header.jpeg}" as="image" CSS />
    <link rel="preload" th:href="@{/img/footer.jpg}" as="image" />
    <!-- 共通CSS -->
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <!-- 各ページCSS -->
    <link rel="stylesheet" th:href="@{/css/mypage.css}" />
  </head>
  <body>
    <header th:replace="header"></header>

    <!-- メインコンテンツ -->
    <main class="main">
      <section class="user">
        <section class="user__item">
          <div class="user__info">
            <span class="user__icon">
                <!-- /* ユーザーアイコン */ -->
              <img th:src="|/images/user-icons/${userIcon}|" alt="" />
            </span>
            <span class="user__name">[[${userName}]]</span>
            <input class="userInfoValue userInfoValue--id" type="hidden" th:value="${userId}" />
            <input class="userInfoValue userInfoValue--icon" type="hidden" th:value="${userIcon}" />
            <input class="userInfoValue userInfoValue--name" type="hidden" th:value="${userName}" />
            <input class="userInfoValue userInfoValue--mail" type="hidden" th:value="${userMail}" />
          </div>
          <div class="user__tabChange">
            <span class="tabChangeBtn tabChangeBtn--myRecipe active">マイレシピ</span>
            <span class="tabChangeBtn tabChangeBtn--myFavRecipe">お気に入り</span>
            <span class="tabChangeBtn__line myRecipe"></span>
          </div>
          <button class="acountSettingBtn"><span>アカウント設定</span></button>
        </section>
        <section class="myRecipe__list">
          <!-- レシピ -->
          <section class="myRecipe__list__item recipeSection" data-recipe-href="recipe.html">
            <div class="myRecipe__list__item__img recipeImage">
              <img src="./img/recipe1.jpg" alt="" />
            </div>
            <div class="myRecipe__list__item__recipeName">
              <span>「レシピ名レシピ名レシピ名レシピ名」</span>
            </div>
            <div class="myRecipe__list__item__tags">
              <a class="myRecipe__list__item__tag" href="search.html?category_id=1">
                <span class="myRecipe__list__item__tag__name"><span>#</span>コロギ</span>
              </a>
            </div>
            <div class="myRecipe__list__item__userAction">
              <span class="myRecipe__list__item__user" href="">
                <span class="myRecipe__list__item__user__icon">
                  <img src="./img/recipe1.jpg" alt="" />
                </span>
                <span class="myRecipe__list__item__user__name">username</span>
              </span>
              <div class="heartBtn">
                <ion-icon name="heart-outline"></ion-icon>
                <span class="heartNum">30</span>
              </div>
            </div>
            <div class="recipeAction">
              <a class="recipeAction__btn recipeAction__btn--edit" href="edit-recipe.html">
                <ion-icon name="pencil"></ion-icon>
              </a>
              <form action="" method="post">
                <button class="recipeAction__btn recipeAction__btn--delete" type="button">
                  <ion-icon name="trash-outline"></ion-icon>
                </button>
              </form>
            </div>
          </section>
        </section>
        <section class="myFavRecipe__list hidden">
          <!-- レシピ -->
          <section class="myFavRecipe__list__item recipeSection" data-recipe-href="recipe.html">
            <div class="myFavRecipe__list__item__img recipeImage">
              <img src="./img/recipe1.jpg" alt="" />
            </div>
            <div class="myFavRecipe__list__item__recipeName">
              <span>「レシピ名レシピ名レシピ名レシピ名」</span>
            </div>
            <div class="myFavRecipe__list__item__tags">
              <a class="myFavRecipe__list__item__tag" href="search.html?category_id=1">
                <span class="myFavRecipe__list__item__tag__name"><span>#</span>コロギ</span>
              </a>
            </div>
            <div class="myFavRecipe__list__item__userAction">
              <a class="myFavRecipe__list__item__user" href="">
                <span class="myFavRecipe__list__item__user__icon">
                  <img src="./img/recipe1.jpg" alt="" />
                </span>
                <span class="myFavRecipe__list__item__user__name">username</span>
              </a>
              <div class="heartBtn">
                <ion-icon name="heart-outline"></ion-icon>
                <span class="heartNum">30</span>
              </div>
            </div>
          </section>
          <section class="myFavRecipe__list__item recipeSection" data-recipe-href="recipe.html">
            <div class="myFavRecipe__list__item__img recipeImage">
              <img src="./img/recipe1.jpg" alt="" />
            </div>
            <div class="myFavRecipe__list__item__recipeName">
              <span>「レシピ名レシピ名レシピ名レシピ名」</span>
            </div>
            <div class="myFavRecipe__list__item__tags">
              <a class="myFavRecipe__list__item__tag" href="search.html?category_id=1">
                <span class="myFavRecipe__list__item__tag__name"><span>#</span>コロギ</span>
              </a>
            </div>
            <div class="myFavRecipe__list__item__userAction">
              <a class="myFavRecipe__list__item__user" href="">
                <span class="myFavRecipe__list__item__user__icon">
                  <img src="./img/recipe1.jpg" alt="" />
                </span>
                <span class="myFavRecipe__list__item__user__name">username</span>
              </a>
              <div class="heartBtn">
                <ion-icon name="heart-outline"></ion-icon>
                <span class="heartNum">30</span>
              </div>
            </div>
          </section>
        </section>
      </section>
    </main>

    <!-- ユーザーアイコンの変更用フォーム -->
    <form th:action="|/users/${userId}/user-icon/update|" method="post" enctype="multipart/form-data">
      <input type="file" name="file" accept="image/jpeg,image/png" />
      <input type="submit" value="完了" />
    </form>
    <!-- テスト表示 -->
    <img th:src="|/images/user-icons/${userIcon}|" alt="ユーザーアイコン" width="400px" />
    <p th:if="${error}" th:text="${error}">エラーメッセージ</p>
    
    <footer th:replace="footer"></footer>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="./js/main.js"></script>
  </body>
</html>
